\chapter{Introduction}

In this chapter, we lay out the basic definitions of graph theoretical and topological concepts used in this thesis, as well as the background results which contextualize our research.

We follow the exposition of Diestel \cite{diestel}, of Mohar and Thomassen \cite{graphsonsurfaces}
and of Postle \cite{postlethesis}. 

\section{Graphs and Surfaces}


\subsection{Graph Theory Terminology}

Here we lay out the basic definitions of graph theory that we will be using in this thesis. We expect
the reader to already have some familiarity with the concepts, and therefore we will not delve into
explainations and will just state the definitions for the purpose of completeness and 
disambiguation.                                                                                                                                                                                              

\begin{definition}
A \emph{graph} $G$ is a pair $(V(G), E(G))$ consisting of a finite set $V(G)$ and a set $E(G)$ of two-
element subsets of $V(G)$. We call the elements of $V(G)$ vertices and
the elements $\{u, v\}$ of $E(G)$ edges, which we often denote as $uv$.
\end{definition}

\begin{definition}
	Two vertices $u, v$ are \emph{adjacent} if $uv \in E(G)$. 
	
	For an edge $e = \{u,v\} \in E(G)$, 
	we say $e$ is \emph{incident} with $u$ and $v$. 
	
	The \emph{neighborhood} of $v \in V(G)$, denoted by $N(v)$, is the set of all vertices
	in $G$ adjacent to $v$. The \emph{degree} of a vertex $v$ is $d(v) = |N(v)|$.
\end{definition}

\begin{definition}
	Two graphs $G$ and $H$ are \emph{isomorphic} if there exists a bijection $f$
	between $V(G)$ and $V(H)$ any two vertices $u$ and $v$ in $G$ are adjacent if and only
	if $f(u)$ and $f(v)$ are adjacent in $H$.
\end{definition}

\begin{definition}
	For a graph $G = (V, E)$, we say a graph $G' = (V', E')$ is a \emph{subgraph of $G$}
	 if $V' \subset V$, $E' \subset E$ and for all  $uv \in E'$ we have $u, v \in V'$. 
	 We denote $G'$ being a subgraph of $G$ by $G' \subseteq G$, and denote a \emph{proper}
	 subgraph (a subgraph in which $E' \subsetneq E$) by $G' \subset G$. 
	 We say that a subgraph $G' = (V', E')$ is \emph{induced} if $E'$ contains all the edges
	 in $E$ whose endpoints are in $V'$. If $X \subset V$, we denote by $G[X]$ the induced
	 subgraph with the vertex set $X$. If $G' = (V', E) \subset G = (V, E)$, we denote by
	 $G \setminus G'$ the graph $G[V \setminus V']$, and if $X \subset V$ we denote by
	  $G \setminus X$
	 the graph $G[V \setminus X]$.
\end{definition}

\begin{definition}
	A \emph{connected component} of a graph is the induced graph by the vertices of an equivalence
	class over the transitive closure of the adjacency relation on the vertices. 
	
	A graph is \emph{connected} if it has only one connected component.
	
	A vertex $v \in V(G)$ is a \emph{cutvertex} if $G \setminus \{v\}$ is not connected.
	A graph $G$ is \emph{2-connected} if it has no cutvertices. 
\end{definition}

\begin{definition}
	The \emph{complete graph in $n$ vertices}, denoted by $K_n$, is the graph with a vertex set
	of size $n$ and edges between any pair of vertices. 
	A \emph{path} is a connected graph with two vertices, the \emph{endpoints}, with degree
	$1$ and all the other vertices with degree $2$. The path is said to be of \emph{length} $\ell$
	if it has $\ell$ edges. 
	A \emph{cycle} is a connected graph with all vertices of degree $2$. The cycles is said
	to be of length $\ell$ if it has $\ell$ edges and vertices. The cycle of length $\ell$ is
	denoted by $C_\ell$. 
\end{definition}

\begin{definition}
	The \emph{distance} $d(u, v)$ between two vertices $u$ and $v$ in $G$ is the length of the
	shortest path between them.
\end{definition}

In one section of this thesis, we will also need the variant of \emph{directed graphs}.


\begin{definition}
A \emph{directed graph} $G$ is a pair $(V(G), E(G))$ consisting of a finite set $V(G)$ and a set 
$E(G)$ of ordered pairs of elements
 of $V(G)$. We call the elements of $V(G)$ vertices and
the elements $(u, v)$ of $E(G)$ edges, which we often denote as $\overrightarrow{uv}$.
\end{definition}

\begin{definition}
	The \emph{indegree} $d^+(v)$ of a vertex $v \in V(G)$ of a directed graph $G$ is the number
	of edges of the form $\overrightarrow{uv}$ in $G$. The \emph{outdegree} $d^-(v)$ is the number
	of edges of the form $\overrightarrow{vu}$ in $G$. A directed graph is said to be 
	\emph{eulerian} if for all vertices $v$, $d^+(v) = d^-(v)$. 
\end{definition}



\subsection{Surfaces}

\begin{definition}
A \emph{surface} is a connected compact $2$-dimensional manifold without boundary. 
\end{definition}

\begin{example}
The \emph{sphere} $S_0$ is the surface defined by the set $\{(x, y, z) \in \mathbb{R}^3 : x^2+y^2
+z^2 = 1\}$ with the euclidean metric inherited from $\mathbb{R}^3$. 

The \emph{torus} $S_1$ is the surface defined by the set $\{(x, y, z) \in \mathbb{R}^3 :  (\sqrt{x^2 + y^2} - 2)^2 + z^2 = 1\}$ with the euclidean metric inherited from $\mathbb{R}^3$.
\end{example}

Note that, even though we have defined the above example surfaces as geometric objects in
$\mathbb{R}^3$, we think of surfaces as \emph{topological} objects, and therefore consider two
surfaces equivalent if they are \emph{homeomorphic}. 

An important result in topology is that all surfaces defined in this way can be classified:

\begin{theorem}[Classification Theorem of Surfaces]
\label{classificationsurfacestheorem}
Every surface is homeomorphic to one of the following surfaces:

\begin{itemize}
	\item $S_0$, the sphere.
	\item $S_k$, the surface obtained from the sphere by performing the operation
	of \emph{adding a handle}  $k \geq 1$ times.
	\item $N_k$, the surface obtained from the sphere by performing the operation
	of \emph{adding a crosscap} $k \geq 1$ times.
\end{itemize}
\end{theorem}

The operation of \emph{adding a handle} in a surface $\Sigma$ can be thought of as deleting the 
interiors of two small  disks $T_1$ and $T_2$ from the surface $\Sigma$ and identifying
the boundaries of $T_1$ and $T_2$.
The operation of \emph{adding a crosscap} in a surface $\Sigma$ can be thought of as deleting the 
interior of a small disk $T$ of $\Sigma$ and identifying the diametrically opposite points of $T$.
In this thesis, we will be mainly concerned only with the two surfaces $S_0$ and $S_1$, so we 
do not delve into the topological details of this construction.

We often represent surfaces via their \emph{fundamental polygon}. A fundamental polygon is a 
polygon with a labelling and an orientation of its edges so that the corresponding surface is
obtained by identifying the edges with the same labels
along the specified orientations. Theorem \ref{classificationsurfacestheorem} can be restated
as that every surface is homeomorphic to a surface obtained from some type of fundamental
polygon. See Figure \ref{fig:spheretorusrepresentation} for representations of $S_0$ and $S_1$ as
fundamental polygons. 

\begin{figure}
\label{fig:spheretorusrepresentation}
\missingfigure{Sphere and torus representations}
\caption{Representation of $S_0$ and $S_1$ as embedded manifolds in $\mathbb{R}^3$ and as fundamental polygons.}
\end{figure}

Finally, we define the following topological invariant for surfaces:

\begin{definition}
The \emph{Euler characteristic} of a surface $\Sigma$ is $\chi(\Sigma) = 2 - 2k$ if $\Sigma = S_k$
and $\chi(\Sigma) = 2 - k$ if $\Sigma = N_k$. The \emph{Euler genus} of a surface $\Sigma$ is
$g(\Sigma) = 2 - \chi(\Sigma)$. 
\end{definition}

 

\subsection{Embedding Graphs in Surfaces}

Let $X$ be a topological space. 

\begin{definition}
An \emph{arc} in $X$ is the image of a continuous injective 
function $f : [0, 1] \rightarrow X$. A \emph{closed curve} in $X$ is the image
of a continuous injective function $f : S^1 \rightarrow X$, where $S^1$ is the circle.
\end{definition}

\begin{definition}
A \emph{graph embedded in $X$} is a graph $G$ in which each element
of $V(G)$ is a point in $X$ together with an associated arc $A_{uv}$ in $X$  each edge $uv \in E(G)$ whose 
interior is disjoint from any vertices of $G$ and whose endpoints are $u, v$. 
\end{definition}

The existence of an arc between two points of $X$ determines an equivalency relation which 
partitions $X$ into equivalence classes known as \emph{arcwise connected components}.

\begin{definition}
A \emph{face} of a graph $G$ embedded in $X$ is an arcwise connected component of
$X \setminus \bigcup_{uv \in E(G)} A_{uv}$. 

The graph $G$ is \emph{$2$-cell-embedded} if every face is homeomorphic to an open disk.
\end{definition}

\begin{figure}
\ref{fig:embeddingk7torus}
\centering
\missingfigure{embedding of k7 in the torus}
\caption{Embedding of $K_7$ in the torus, drawn on the fundamental polygon.}
\end{figure}

As an example of how we will represent a graph embedded in a surface, see the embedding of $K_7$
in the torus in Figure \ref{fig:embeddingk7torus}. We will usually omit marking the orientations
and labellings of the edges of the fundamental polygon of the torus when drawing graphs, since
we will not consider any other surface (other than the plane or sphere). 

\begin{definition}
A \emph{plane graph} is a graph $G$ embedded in the plane. A \emph{planar graph} is a graph $G$ for which there exists an embedding of $G$ into the plane. 

If $G$ is a plane graph, then there exists an unbounded face of $G$. We say 
that the boundary walk of the infinite face of $G$ is the \emph{outer walk} of $G$. We say
than an edge $e$ of $G$ is a chord of the outer walk of $G$ if the edge does not lie on the
boundary of the infinite face but both its ends do. 
\end{definition}

We have the following result for plane graphs:

\begin{theorem}
In a $2$-connected plane graph, each face is bounded by a cycle.
\end{theorem}

Therefore, when talking about $2$-connected graphs, we may refer to the outer walk as the 
\emph{outer cycle}.

Note also that technically plane graphs are not graphs embedded in surfaces, since the plane is
not a surface according to our definition (it is not compact). But by compactifying the plane
we see that embedding a connected graph in the plane is in some sense ``equivalent'' to embedding 
the graph in $S_0$, and we will interchangeably refer to plane graphs and graphs embedded in the 
sphere when convenient. 

\begin{theorem}[Euler's formula]
Let $G$ be a $2$-cell-embedded graph in a surface $\Sigma$. If $G$ has $V$ vertices, $E$ edges and 
$F$ faces, then

\[
V - E + F = \chi(\Sigma)
\]
\end{theorem}

\begin{definition}
A \emph{homotopy} between two functions $f$ and $g$ from a space $X$ to a space $Y$ is a continuous
map $G : X \times [0, 1] \rightarrow Y$ such that $G(x, 0) = f(x)$ and $G(x, 1) = g(x)$. 
Two functions are \emph{homotopic} or \emph{homotopically equivalent} if there is an homotopy
between them. 
\end{definition}

\begin{definition}
A \emph{contractible cycle} of a graph $G$ embedded in a surface is a cycle in the graph whose 
embedding is the image of a closed curve homotopic to a constant map.
The \emph{edge-width} $ew(G)$ of an embedded graph $G$ 
is the length of the smallest non-contractible cycle in $G$. 
\end{definition}





\section{Graph Coloring}

Problems related to \emph{coloring} are a fundamental part of graph theory. Although there are many variants, the original one and the most important is \emph{vertex coloring}.

\begin{definition}
A \emph{vertex coloring} of a graph $G$ is a function $\phi : V(G) \rightarrow \mathbb{N}$. The vertex coloring is said to be \emph{proper} if $\forall uv \in E(G), \phi(u) \neq \phi(v)$. 
\end{definition}

We think of this as assigning one color to each vertex of the graph, so that adjacent vertices are assigned different colors. This interpretation comes from the origin of the problem in \textit{map coloring}, in which we have to color a political map assigning colors to countries so that neighboring countries are assigned different colors in order to distinguish them. A quantity of interest is the number of colors required for a proper coloring of the graph:

\begin{definition}
A vertex coloring $\phi$ is said to be a $k$\emph{-coloring} if $|\Im \phi| = k$. A graph $G$ is said to be $k$\emph{-colorable} if it admits a proper $k$-coloring. The \emph{chromatic number} $\chi(G)$ of a graph $G$ is the minimum $k$ such that $G$ is $k$-colorable. 
\end{definition}

In the map coloring context, we study vertex coloring for \emph{planar} graphs. The following remarkable result was the origin of this area of mathematics:

\begin{theorem}[Four color theorem]
For all planar graphs $G$, $\chi(G) \leq 4$.
\end{theorem}

This theorem, originally conjectured in 1852, was proven by Appel and Haken in 1976 \cite{4ct1, 4ct2}. Their proof achieved some notoriety due to use of computers to process a lengthy case analysis. 

A natural generalization of the above problem is to study the chromatic number of graphs embedded in surfaces other than the plane. The following result, due to Heawood in 1890 \cite{heawoodmapcolour}, generalizes the four color theorem to surfaces other than the plane:

\begin{theorem}[Heawood]
Let $\Sigma$ be a surface with Euler genus $g(\Sigma) \geq 1$. Any graph embedded in $\Sigma$ can be colored with

$$
H(\Sigma) = \left\lfloor \frac{7 + \sqrt{1+24g(\Sigma)}}{2} \right\rfloor
$$
colors.
\end{theorem}

We call $H(\Sigma)$ the \emph{Heawood number} of the surface.

The very interesting result is that this bound is tight for all surfaces with $g(\Sigma) \geq 1$
except for $N_2$, the Klein bottle. (It is also tight for the sphere $S_0$, but Heawood's proof
does not work for this case). This was finally proved after much work by Ringel and Youngs:

\begin{theorem}[Ringel-Youngs \cite{ringelyoungs}]
For every surface $\Sigma \neq N_2$, $K_{H(\Sigma)}$ embeds into $\Sigma$.
\end{theorem}

A more recent approach to problems of coloring graphs on surfaces is to ask how the graphs
that are not colorable with a certain number of colors look like, and see if there is any 
algorithmic insight to obtain from that.
For example, is $K_{H(\Sigma)}$ the only graph which is not $H(\Sigma)-1$ colorable?
Any other graph which contains $K_{H(\Sigma)}$ will also chromatic number at least $H(\Sigma)$,
so in order to properly ask this question we need the concept of \emph{critical graphs}.

\begin{definition}
A graph $G$ is \emph{$k$-critical} if $\chi(G) = k$ but $\chi(H) < k$ for any proper subgraph
$H \subset G$. 
\end{definition}

$k$-critical graphs are the minimal obstructions for $k$-colorability:

\begin{observation}
$\chi(G) \geq k \iff$ $G$ contains a $k$-critical graph as a subgraph.
\end{observation}

\begin{theorem}[Dirac; Albertson, Hutchinson \cite{diracalbertsonhutchinson}]
For $\Sigma \neq N_2, g(\Sigma) \geq 1$, $K_{H(\Sigma)}$ is the only $H(\Sigma)$-critical graph
embeddable in $\Sigma$.
\end{theorem}

This means that determining $H(\Sigma)$-colorability for graphs embedded in $H(\Sigma)$ is 
equivalent to finding an $H(\Sigma)$-clique. 

Is it possible that other simple characterizations exist for graphs on surfaces which are 
not $k$-colorable for $k < H(\Sigma)$? The answer is affirmative:

\begin{theorem}[\cite{thomassenfixedsurface}]
For any surface $\Sigma$ and $k \geq 6$, there exist only finitely many $k$-critical graphs 
embeddable in $\Sigma$.
\end{theorem}

This was proved by Thomassen after previous results by Dirac and Gallai for $k \geq 8$
and $k \geq 7$, $k \geq 8$. It is the best possible bound for $k$ since Fisk \cite{fisk} proved
the existence of infinitely many $5$-critical graphs on the torus.

Let us briefly discuss the algorithmic implications of this result. For a fixed graph $H$, it 
is possible to check whether $H$ is a subgraph of $G$ in time polynomial in the size of $G$.
In fact, by a result of Eppstein \cite{eppstein}, for graphs $G$ in a fixed surface
it is possible to test subgraph isomorphism in linear time. Therefore, for $k \geq 6$ there exists an algorithm for determining $k$-colorability in linear time for graphs on a fixed surface,
by testing subgraph isomorphism with each of the $k$-critical graphs in the finite list. 

We can ask what is the complexity of testing $k$-colorability with $k < 6$ for graphs in fixed 
surfaces.
$1$-colorability and $2$-colorability can be determined in linear time. $3$-colorability is NP-
complete even for planar graphs \cite{3colorabilitynpcomplete}. The complexity of $4$-colorability 
in surfaces other than the
sphere remains an open problem. 

\section{List Coloring}

A variant of graph coloring called \emph{list coloring} was introduced
by Vizing \cite{vizinglistcoloring} and Erdős, Rubin and Taylor \cite{erdoschoosability}.

\begin{definition}
	Let $G$ be a graph. A \emph{list assignment} for $G$ is a function 
	$L : V \rightarrow 2^{\mathbb{N}}$. An \emph{$L$-coloring} of $G$ for a list assignment
	$L$ is a (proper) coloring $\phi$ such that $\phi(v) \in L(v) \, \forall v \in V(G)$. 
\end{definition}

\begin{definition}
A \emph{$k$-list-assignment} is a list assignment $L$ with $|L(v)| \geq k \, \forall v \in V(G)$. 
A graph $G$ is \emph{$k$-list-colorable} or \emph{$k$-choosable} if there exists an $L$-coloring
of the graph \textbf{for all} $k$-list-assignments $L$. 
The \emph{list chromatic number} or \emph{choosability} $\chi_{\ell}(G)$ is the least integer
so that $G$ is $\chi_{\ell}(G)$-list-colorable.
\end{definition}

Note the following:

\begin{observation}
$G$ is $k$-list-colorable $\implies$ $G$ $k$-colorable, so $\chi_{\ell}(G) \geq \chi(G)$.
\end{observation}

The reason for this is that by setting $L(v) = \{1, 2, \ldots k\}$ one retrieves the usual coloring.

\begin{figure}
\label{fig:k33not2lcolorable}
\centering
\begin{center}
\begin{tikzpicture}[main/.style = {draw, circle}] 
\node[main] (1)  {$\{1,2\}$};
\node[main] (2) [below=7mm of 1] {$\{1,3\}$};
\node[main] (3) [below=7mm of 2] {$\{2,3\}$};
\node[main] (4) [right=15mm of 1] {$\{1,2\}$};
\node[main] (5) [below=7mm of 4] {$\{1,3\}$};
\node[main] (6) [below=7mm of 5] {$\{2,3\}$};

\draw (1) -- (4);
\draw (1) -- (5);
\draw (1) -- (6);
\draw (2) -- (4);
\draw (2) -- (5);
\draw (2) -- (6);
\draw (3) -- (4);
\draw (3) -- (5);
\draw (3) -- (6);
\end{tikzpicture}
\end{center}
\caption{An example of a bipartite graph which is not $L$-colorable for a $2$-list-assignment $L$.}
\end{figure}

But there exist graphs with $\chi_{\ell}(G) > \chi(G)$: consider $K_{3, 3}$ with the list
assignment given as in Figure \ref{fig:k33not2lcolorable}.

A motivation for this variant of coloring is to consider coloring problems in the usual graph vertex
coloring setting in which some of the vertices have already been colored. In this case, the 
remaining vertices do not have all colors available but only a subset of them (the ones not already
picked by colored neighbors) and the subsets for each of the vertices can be different. 

We can ask if there is an analogue of the four color theorem for list coloring.
In their paper from 1993, Erdős, Rubin and Taylor conjectured the following:

\begin{conjecture}[\cite{erdoschoosability}]
\begin{enumerate}
	\item There exists a planar graph $G$ with $\chi_{\ell}(G) \geq 5$. 
	\item For all planar graphs $G$, $\chi_{\ell}(G) \leq 5$.
\end{enumerate}
\end{conjecture}

The first part of the conjecture was proved by Voigt \cite{voigt1993} in 1993 providing an 
example with $238$ vertices. One year later, Thomassen proved the second part of the conjecture:

\begin{theorem}[Thomassen's theorem \cite{thomassenplanargraphchoosable}]
\label{thomassentheorem}
For all planar graphs $G$, $\chi_{\ell}(G) \leq 5$.
\end{theorem}

Thomassen actually proved a stronger theorem: 

\begin{theorem}[Thomassen's stronger theorem]
\label{thomassenstrongertheorem}
	Let $G$ be a plane (embedded) graph with outer walk $C$, and let $L$ be a list assignment satisfying:
\begin{itemize}
	\item $|L(v)| \geq 5$ for all internal vertices.
	\item $|L(v)| \geq 3$ for all $v \in V(C) \setminus \{x, y\}$ where $x, y$ are a pair of adjacent vertices.
	\item $|L(x)| = |L(y)| = 1$, $L(x) \neq L(y)$. 
\end{itemize}	
	Then $G$ is $L$-colorable.
\end{theorem}

\begin{proof}
Suppose we have a counterexample with minimal $|V(G)|$. It is clear that for 
$|V(G)| \leq 3$ the theorem is true, so we assume $|V(G)| \geq 4$.

First we prove that $G$ is $2$-connected. Assume it is not. Then, we have two subgraphs $G_1, G_2 \subset G$ with $G_1 \cup G_2 = G$ 
and $G_1 \cap G_2 = \{v\}$, with $v$ a cutvertex. Assume, without loss of generality, that $x, y \in G_1$. By minimality of $G$, 
$G_1$ is $L_{\restriction_{G_1}}$ colorable. Let $\phi_1$ be a coloring of $G_1$. Now, let $w$ be a neighbor of $v$ in the outer face 
of $G_2$ and consider the list assignment $L'$ for $G_2$ for which $L'(v) = \{\phi_1(v)\}$, $L'(w) = c$ for some arbitrary 
$c \in L(w)$, and $L'(u) = L(u)$ $\forall u \in V(G_2) \setminus \{v, w\}$. Note that $G_2$ and $L'$ satisfy the hypothesis 
of the theorem. Therefore, by minimality of our counterexample, $G_2$ has a $L'$-coloring $\phi_2$. But now note that, since 
$\phi_1(v) = \phi_2(v)$, the coloring $\phi(u) = \phi_i(u)$ if $u \in V(G_i)$ is well-defined and is an $L$-coloring of $G$, 
contradiction.

Hence, $G$ is $2$-connected and the outer walk $C$ is a cycle. Now we prove that there is no chord in $C$. The proof is 
similar to the above argument. Assume there is a chord $vw$. Then, we have two subgraphs $G_1, G_2 \subset G$ with 
$G_1 \cup G_2 = G$, $G_1 \cap G_2 = \{v, w\}$ and ${x, y} \subset G_1$. By minimality of $G$, $G_1$ has an $L$-coloring $\phi_1$. 
If we set $L'(v) = \{\phi_1(v)\}$, $L'(w) = \{\phi_1(w)\}$, and $L'(u) = L(u)$ for all other vertices 
$u \in V(G_2) \setminus \{v, w\}$, then $G_2$ is $L'$-colorable and a coloring of $G$ can be constructed.

Now we have that $G$ has no chords or cutvertices. Let $u$ be the neighbor of $y$ in the outer face other than 
$x$ and let $v$ be the neighbor of $u$ in the outer face other than $y$ (possibly $v = x$). Let  
$\{c_1, c_2\} \subseteq L(u) \ L(y)$. Now, let $G'$ be the graph obtained by removing $u$ from $G$ and let $L'$ be 
the list assignment for $G'$ in which $\{c_1, c_2\}$ are removed from the lists of the neighbors of $u$ other than 
$v$. $G'$ satisfies the hypothesis of the theorem: every vertex in the outer face has list size at least $3$, since each of those
vertices is
either a vertex previously in the outer face of $G$ all of which have their previous lists (the only neighbors of $u$ in 
the outer face are $u$ and $y$, since $G$ has no chords), or a previously interior vertex, which has had at most $2$ of its
$\geq 5$ colors removed. So $G'$ has an $L'$-coloring, which can be extended to an $L$-coloring of $G$ by coloring $u$ with one
of $c_1$ or $c_2$ (whichever is not in use by $v$), contradiction.


\begin{figure}
\centering
\begin{tikzpicture}
\begin{scope}[scale=0.8, every node/.append style={transform shape}]]
\input{figures/thomassen_proof_1.tex}
\end{scope}

\begin{scope}[xshift=170, scale=0.8, every node/.append style={transform shape}]]
\input{figures/thomassen_proof_2.tex}
\end{scope}
\end{tikzpicture}
\vspace{-1cm}
\caption{Illustration of Thomassen's reduction. At most $2$ colors are erased from the lists of $u$'s neighbors.}
\end{figure}

\end{proof}

We can also extend the notion of critical graphs to list coloring:

\begin{definition}
A graph is $G$ is \emph{$L$-critical} for some list assignment $L$ if $G$ has no $L$-coloring
but every proper subgraph $H \subset G$ has an $L$-coloring.
A graph is \emph{$k$-list-critical} if there exists a $(k-1)$-list assignment $L$ such that
$G$ is $L$-critical.
A graph is \emph{minimal $k$-list-critical} if $\chi_{\ell}(G) = k$ but $\chi_{\ell}(H) < k$ for
every proper subgraph $H \subset G$. 
\end{definition}

Notice that here the analogous definition to $k$-critical graphs for the usual coloring is the
definition of \textbf{minimal} $k$-list-critical (terminology from \cite{onlistcritical}, 
here it is shown that such graphs are in fact the minimal $k$-list-critical ones with respect
to subgraph containment), 
and the actual definition of $k$-list-critical is a little different than what one would 
immediately expect. The reason for this is that in theoretical arguments
 it is usually more convenient to work with a
pair $(G, L)$ of a graph with a fixed $k$-list-assignment, and therefore the concept of $L$-critical
graph is more useful.

There are also other criticality notions we will use. 
In coloring problems, it is useful to consider when a precoloring of a subgraph
does not \emph{extend} to the entire graph, that is, there is no coloring
of the entire graph under certain constraints which agrees with the coloring 
of the subgraph. 

\begin{definition}[Extending]
	Let $G$ be a graph, $T \subseteq G$ a subgraph, and $L$ a list assignment
	for $G$. For an $L$-coloring $\phi$ of $T$, we say that $\phi$ \emph{extends}
	to an $L$-coloring of $G$ if there exists an $L$-coloring $\psi$ of $G$
s	such that $\phi(v) = \psi(v)$ for all $v \in V(T)$. 
	
\end{definition}

It is also interesting to consider graphs which are critical in this setting. To do so, we use the following definition (from \cite{fivelistcoloring2}):

\begin{definition}[$T$-critical]
	Let $G$, $T$, $L$ be as above. The graph $G$ is \emph{$T$-critical with respect to $L$} if $G \neq T$ and for every proper subgraph $G' \subset G$ such that $T \subseteq G'$, there exists an $L$-coloring of $T$ that extends to an $L$-coloring of $G'$, but does not extend to an $L$-coloring of $G$. If the list assignment $L$ is clear from context, we just say \emph{$T$-critical}.
\end{definition}

\begin{definition}[$\phi$-critical]
	Let, $G$, $T$, $L$ be as above. The graph $G$ is $\phi$-critical for a coloring $\phi$ of $T$ if $\phi$ extends to every proper subgraph of $G$ containing $T$ but not to $G$.
\end{definition}

In a way similar to the general notion of criticality, we have that graphs for which colorings of $T$ do not extend contain a non-trivial $T$-critical subgraph:

\begin{lemma}
Let $G$ be a graph, $T$ a subgraph, and $L$ a list assignment for $G$. If there 
is an $L$-coloring $\phi$ of $T$ that does not extend to $G$, 
then $G$ contains a subgraph $H$ with $T \subsetneq H$ which 
is $\phi$-critical, and hence also $T$-critical with respect 
to $L_{\restriction_H}$. 
\end{lemma}

\begin{proof}
Let $\phi$ be the coloring of $T$ that does not extend and let $H$ be a minimal subgraph 
of $G$ for which $\phi$ does not extend. Now note that $H$ is $\phi$-critical 
by construction.
\end{proof}

\begin{lemma}
\label{minimalsubgraphlemma}
Let $G$ be a graph, $T$ a subgraph, $L$ a list assignment for $G$, and $H \supseteq T$ 
a subgraph of $G$ which is minimal with respect to the following property: 
for every $L$-coloring $\phi$ of $T$ that extends to $H$, $\phi$ also extends to $G$. 
Then $H$ is $T$-critical.
\end{lemma}

\begin{proof}
Suppose not. Then, $H$ contains a proper subgraph $H'$ so that every $L$-coloring $\phi$ that extends to $H'$ also extends to $H$ and hence to $G$. But then $H'$ is a smaller subgraph with that property, contradiction. 
\end{proof}

We also have the following lemma from \cite{fivelistcoloring2}:

\begin{lemma}
\label{pregluinglemma}
Let $T$ be a subgraph of a graph $G$ such that $G$ is $T$-critical with respect to a list assignment $L$. Let $A, B \subseteq G$ be such that $A \cup B = G$ and $T \subseteq A$. Then $G[V(B)]$ is $A[V(A) \cap V(B)]$-critical.
\end{lemma}

\begin{proof} 
Let $G' = G[V(B)]$ and $S = A[V(A) \cap V(B)]$. If $G' = S$ there is nothing to say, suppose otherwise that $G' \neq S$ and note that therefore $G'$ contains an edge not in $S$ (in fact, all isolated vertices of $G'$ must be in $S$). Suppose for a contradiction that $G'$ is not $S$-critical. Then, by taking a maximal proper subgraph that defies the defintion, there exists an edge $e \in E(G') \setminus E(S)$ such that every $L$-coloring of $S$ that extends to $G' \setminus e$ also extends to $G'$. Since $G$ is $T$-critical and $e \not\in E(T)$, there exists a coloring $\phi_{\restriction_T}$ of $T$ that extends to an $L$-coloring $\phi$ of $G \setminus e$, but does not extend to an $L$-coloring of $G$. However, by the choice of $e$, the restriction $\phi_{\restriction_S}$ extends to an $L$-coloring $\phi'$ of $G'$. Let $\phi''$ be such that $\phi''(v) = \phi'(v) \, \forall v \in V(G')$ and $\phi''(v) = \phi(v) \, \forall v \in V(G) \setminus V(G')$. Now, since $A \cup B = G$, $\phi''$ is an $L$-coloring of $G$ extending $\phi_{\restriction_T}$, a contradiction.
\end{proof}

For us, it will be more useful in this form:

\begin{lemma}[Gluing Lemma]
\label{gluinglemma}
Let $T$ be a subgraph of a graph $G$ such that $G$ is $T$-critical with respect to a list assignment $L$. Let $A, B \subseteq G$ be such that $A \cup B = G$. Then $G[V(B)]$ is $(A[V(A) \cap V(B)] \cup T)$-critical.
\end{lemma}

\begin{proof} 
Apply \ref{pregluinglemma} to $A' = A \cup T$ and $B' = B$. 
\end{proof}

The reason we decided to name it ``Gluing lemma'' in this work is that it is useful to visualize the graph $G$ as made of two separate pieces, $A$ and $B$, which are glued together along $A[V(A) \cap V(B)]$. In our approach we will frequently use the fact that all $T$-critical graphs can be ``decomposed'' in this way. 

We will also use the following simple lemmas:

\begin{lemma}[Extension Lemma]
\label{extensionlemma}
Let $G$ be a $T$-critical graph. If $T'$ is a subgraph with 
$T \subseteq T' \subset G$, then $G$ is $T'$-critical.
\end{lemma}
\begin{proof}
For any subgraph $H$ with $T \subseteq T' \subseteq H \subset G$, there exists a coloring
$\phi_{\restriction_T}$ of $T$ that extends to a coloring $\phi$ $H$ but not to $G$ by $T$-criticality. Then, $\phi_{\restriction_T}'$ is a coloring of $T'$ that extends to $H$ but not to $G$.
\end{proof}

\begin{lemma}[Duplication Lemma]
\label{duplicationlemma}
Let $G$ be a $T$-critical graph with respect to a list assignment $L$ and let $G'$ be a graph
, $T' \subset G'$ be a subgraph, $L'$ be a list assignment for $G'$ and $f : V(G') \rightarrow V(G)$ be a function such that:

\begin{enumerate}
	\item	$f_{\restriction_{V(G') \setminus V(T')}}$ is an isomorphism between 
	$G'[V(G') \setminus V(T')]$ and $G[V(G) \setminus V(T)]$.
	\item For all $v \in V(T')$, $f(v) \in V(T)$ and $f$ is surjective.  
	\item $L'(v) = L(f(v))$ for all $v \in V(G')$. 
	\item For every $v \in V(G)$, the image of the set $N(v) \cap V(T')$ under $f$
	is equal to $N(f(v)) \cap V(T)$.  
\end{enumerate}

Then, $G'$ is $T'$-critical with respect to $L'$.
 
\end{lemma}
\begin{proof}
Let $H'$ be any subgraph with $T' \subseteq H' \subset G'$ and let $H$ be the image of $H'$ under 
$f$. $H$ can be seen to satisfy $T \subseteq H \subset G$, and by $T$-criticality there is a 
coloring $\phi_{\restriction_T}$ that extends to a coloring $\phi$ of $H$ but does not extend to $G$.
Consider the $L'$-coloring $\psi$ of $H'$ defined by $\psi(v) = \phi(f(v))$. 
Then, $\psi_{\restriction_{T'}}$ is a coloring that extends to $H'$ but does not extend to $G'$,
because if it did extend to a coloring $\psi'$ of $G'$ 
then $\phi_{\restriction_T}$ would extend to $G$ by setting the
color $\psi'(f^{-1}(v))$ to each vertex $v \in V(G) \setminus V(T)$. 
\end{proof}

Often, in list coloring we want to impose some restriction on the sizes of the lists, but 
we don't want the same sizes for all the vertices as in $k$-list-colorability. We will
use the following terminology:

\begin{definition}
	Let $G$ be a graph and $f : V(G) \rightarrow \mathbb{N}$ a function. We say a list 
	assignment $L$ is a \emph{$f$-list-assignment} if $|L(v)| \geq f(v)$ for all $v \in V(G)$. 
	We say $G$ is \emph{$f$-list-colorable} if $G$ is $L$-colorable for every 
	$f$-list-assignment $L$.
	We say $G$ is \emph{$f$-list-critical} if $G$ is $L$-critical for some $f$-list-assignment
	$L$.
\end{definition}

And when drawing graphs whose vertices have prescribed list sizes by such an $f$, we
will use the pictorial notation of Figure \ref{fig:listsizenotation} to denote the list sizes
of the vertices.
\begin{figure}
\label{fig:listsizenotation}
\centering
\missingfigure{figure explaining pictorial notation for list sizes}
\caption{Shapes used for the vertices of the graphs according to their list sizes}
\end{figure}

Finally, we can ask if there are results for list coloring of graphs on surfaces as there were
for the usual coloring. The argument of Heawood also works for list coloring, so for every
surface $\Sigma$ the graphs embedded in $\Sigma$ are all $H(\Sigma)$-list-colorable.

We have the analogous result that $K_{H(\Sigma)}$ is the only obstruction for
$H(\Sigma)-1$-list-colorability:

\begin{theorem}[\cite{kralclique}]
For a surface $\Sigma$ with $g(\Sigma) \geq 1$, $\Sigma \neq N_2$, $K_{H(\Sigma)}$ is the only
minimal $H(\Sigma)$-list-critical graph embeddable in $\Sigma$.
\end{theorem}

And Postle proved in his PhD thesis in 2012 the result analogous to Thomassen's:

\begin{theorem}[\cite{postlethesis}]
For $k \geq 6$ there exist only finitely many $k$-list-critical graphs embeddable in a given
surface $\Sigma$.
\end{theorem}

The goal we set out for this thesis is to find the explicit list of $6$-list-critical graphs 
for the torus. 



